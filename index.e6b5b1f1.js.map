{"mappings":"AAAA,MAEMA,EAAcC,SAASC,cAAc,cACrCC,EAAaF,SAASC,cAAc,gBAE1C,IAAIE,EAAO,EAQPC,EAAW,IAAIC,sBAenB,SAAkBC,GAChBA,EAAQC,SAAQC,IACVA,EAAMC,iBACRN,GAAQ,EACRO,EAAaP,GACVQ,KACCZ,EAAYa,mBACV,YACAC,KAAKC,KAAKC,IAAIC,GAAcC,KAAK,MAGpCC,OAAMC,GAASC,QAAQC,IAAIF,K,MAhCtB,CACZG,KAAM,KACNC,WAAY,QACZC,UAAW,IAKb,MAAMd,EAAee,eAAgBC,EAAO,GAC1C,MAKMC,QAAiBC,MACrB,uDAAwCF,IAN1B,CACdG,QAAS,CACPC,cAAe,iCAOnB,aAAaH,EAASI,M,EA8BxB,SAASf,GAAagB,KAAEA,EAAIC,KAAEA,EAAIC,OAAEA,IAClC,MAAO,0B,kEAZTxB,IACGC,MAAKE,IACJd,EAAYa,mBACV,YACAC,EAAKC,KAAKC,IAAIC,GAAcC,KAAK,KAGnCb,EAAS+B,QAAQjC,EAAW,IAE7BgB,OAAMC,GAASC,QAAQC,IAAIF","sources":["src/js/infinite-scroll.js"],"sourcesContent":["const BASE_URL = 'https://the-one-api.dev/v2';\n\nconst containerEl = document.querySelector('.container');\nconst sentinelEL = document.querySelector('.js-sentinel');\n\nlet page = 1;\n\nlet options = {\n  root: null,\n  rootMargin: '200px',\n  threshold: 1.0,\n};\n\nlet observer = new IntersectionObserver(onScroll, options);\n\nconst getCharacter = async function (page = 1) {\n  const options = {\n    headers: {\n      Authorization: 'Bearer 9Md7WaRItR6DhLF6hAwY',\n    },\n  };\n  const response = await fetch(\n    `${BASE_URL}/character?limit=300&page=${page}`,\n    options\n  );\n  return await response.json();\n};\n\nfunction onScroll(entries) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      page += 1;\n      getCharacter(page)\n        .then(\n          containerEl.insertAdjacentHTML(\n            'beforeend',\n            data.docs.map(createMarcup).join('')\n          )\n        )\n        .catch(error => console.log(error));\n    }\n  });\n}\n\ngetCharacter()\n  .then(data => {\n    containerEl.insertAdjacentHTML(\n      'beforeend',\n      data.docs.map(createMarcup).join('')\n    );\n\n    observer.observe(sentinelEL);\n  })\n  .catch(error => console.log(error));\n\nfunction createMarcup({ name, race, gender }) {\n  return `\n    <li>\n\t\t<p>Имя ${name}</p>\n\t\t<p>Раса ${race}</p>\n\t\t<p>Пол ${gender}</p>\n\t</li>\n    `;\n}\n"],"names":["$7f13665ecc617d63$var$containerEl","document","querySelector","$7f13665ecc617d63$var$sentinelEL","$7f13665ecc617d63$var$page","$7f13665ecc617d63$var$observer","IntersectionObserver","entries","forEach","entry","isIntersecting","$7f13665ecc617d63$var$getCharacter","then","insertAdjacentHTML","data","docs","map","$7f13665ecc617d63$var$createMarcup","join","catch","error","console","log","root","rootMargin","threshold","async","page1","response","fetch","headers","Authorization","json","name","race","gender","observe"],"version":3,"file":"index.e6b5b1f1.js.map"}